{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-12 col-md-7 col-lg-5">
    <h1 class="h4 mb-3">Set a new password</h1>

    {% if error %}
      <div class="alert alert-danger" role="alert">{{ error }}</div>
    {% endif %}

    {% if show_form %}
      <form method="post" action="/reset-password" class="card card-body">
        <input type="hidden" name="token" value="{{ token }}">
        <div class="mb-3">
          <label class="form-label">New password</label>
          <input class="form-control" type="password" name="new_password" required minlength="8" autofocus>
        </div>
        <div class="d-flex gap-2">
          <button class="btn btn-primary" type="submit">Update password</button>
          <a class="btn btn-outline-secondary" href="/login">Back</a>
        </div>
      </form>
    {% else %}
      <a class="btn btn-outline-secondary" href="/login">Back to login</a>
    {% endif %}
  </div>
</div>
{% endblock %}
