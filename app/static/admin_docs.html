<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Admin â€“ Documentation</title><link rel="stylesheet" href="/static/styles.css"/><script defer src="/static/header.js"></script><script defer src="/static/adminheader.js"></script></head><body><header id="header"></header><div class="container"><div id="adminHeader"></div><div class="card"><h2>Timeboard documentation</h2><p><strong>Version:</strong> 1.2.0 &nbsp; <strong>Date:</strong> 2025-09-24</p><h3>Overview</h3><p>FastAPI backend with a minimal static front end. Tasks support one time and recurring schedules: none, after, cron, set.</p><h3>Repository layout</h3><ul><li>.github/workflows/publish.yml</li><li>Dockerfile</li><li>LICENSE</li><li>README.md</li><li>app/assets/version.json</li><li>app/db.py</li><li>app/main.py</li><li>app/models.py</li><li>app/static/about.html</li><li>app/static/admin.html</li><li>app/static/admin.js</li><li>app/static/admin_db.html</li><li>app/static/admin_db.js</li><li>app/static/adminheader.js</li><li>app/static/app.js</li><li>app/static/footer.js</li><li>app/static/header.js</li><li>app/static/index.html</li><li>app/static/new.html</li><li>app/static/new.js</li><li>app/static/styles.css</li><li>app/static/version.json</li><li>docker-compose.yml</li><li>requirements.txt</li></ul><h3>Environment variables</h3><ul></ul><h3>Database tables</h3><ul><li><strong>tasks</strong> (Task)<ul><li>id: Column(Integer, primary_key=True, index=True)</li><li>name: Column(String(200)</li><li>type: Column(String(100)</li><li>subtype: Column(String(100)</li><li>url: Column(String(1000)</li><li>description: Column(Text, nullable=True)</li><li>tags: Column(String(1000)</li><li>recurrence_mode: Column(String(16)</li><li>recurrence_params: Column(Text, nullable=True)</li><li>due_at: Column(DateTime, nullable=True)</li><li>last_completed_at: Column(DateTime, nullable=True)</li><li>next_due_at: Column(DateTime, nullable=True)</li><li>created_at: Column(DateTime, nullable=False, default=datetime.utcnow)</li><li>updated_at: Column(DateTime, nullable=False, default=datetime.utcnow)</li></ul></li><li><strong>meta</strong> (MetaKV)<ul><li>key: Column(String(100)</li><li>value: Column(String(2000)</li></ul></li></ul><h3>API routes</h3><ul><li><code>GET /admin</code></li><li><code>GET /api/admin/info</code></li><li><code>POST /api/admin/upgrade</code></li><li><code>GET /api/admin/export/json</code></li><li><code>GET /api/admin/export/sqlite</code></li><li><code>POST /api/admin/import/json</code></li></ul><h3>Security</h3><ul><li>TrustedHost with ALLOWED_HOSTS</li><li>Optional CORS with CORS_ALLOW_ORIGINS</li><li>CSP, X-Frame-Options, Referrer-Policy, X-Content-Type-Options, optional HSTS</li><li>Request size guard with MAX_REQUEST_BYTES</li><li>Front end HTML escaping in tables</li><li>Admin endpoints require ADMIN_SECRET via X-Admin-Secret</li></ul><h3>Admin</h3><ul><li>Sub nav: Documentation, Database</li><li>Database page supports export, import, migration, version check</li></ul><h3>Run</h3><pre><code>pip install fastapi uvicorn sqlalchemy croniter pydantic
uvicorn app.main:app --host 0.0.0.0 --port 8000</code></pre><h3>Docker</h3><p>Use Dockerfile and docker-compose.yml. Set DATABASE_URL and ADMIN_SECRET.</p><h3>Changelog</h3><pre><code>{
  "version": "1.2.0",
  "summary": "unknown",
  "changes": [
    "Feature: Admin page with DB details, export/import, and one-click schema upgrade. Optional ADMIN_TOKEN protection."
  ],
  "date": "2025-09-24"
}</code></pre></div><div id="footer"></div></div><script src="/static/footer.js"></script></body></html>